knitr::opts_chunk$set(echo = TRUE)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway =
redlist_df = read_csv(paste0(pathway, "STAT-434---not-the-dodo-/IUCN_redlist.csv"))
library(tidyverse)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway =
redlist_df = read_csv(paste0(pathway, "STAT-434---not-the-dodo-/IUCN_redlist.csv"))
amniote_df = read_csv(paste0(pathway, "STAT-434---not-the-dodo-/amniote_database.csv"))
pantheria93_df = read_csv(paste0(pathway,"STAT-434---not-the-dodo-/pantheria_wr93.txt"), sep = "\t")
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway =
redlist_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/IUCN_redlist.csv"))
amniote_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/amniote_database.csv"))
pantheria93_df = read.csv(paste0(pathway,"STAT-434---not-the-dodo-/pantheria_wr93.txt"), sep = "\t")
View(pantheria93_df)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway =
redlist_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/IUCN_redlist.csv"))
amniote_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/amniote_database.csv"))
pantheria93_df = read.csv(paste0(pathway,"STAT-434---not-the-dodo-/pantheria_wr93.txt"), sep = "\t")
pantheria05_df = read.csv(paste0(pathway,"STAT-434---not-the-dodo-/pantheria_wr05.txt"), sep = "\t")
knitr::opts_chunk$set(echo = TRUE)
dim(amniote_df)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway =
redlist_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/IUCN_redlist.csv"))
amniote_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/amniote_database.csv"))
pantheria93_df = read.csv(paste0(pathway,"STAT-434---not-the-dodo-/pantheria_wr93.txt"), sep = "\t")
pantheria05_df = read.csv(paste0(pathway,"STAT-434---not-the-dodo-/pantheria_wr05.txt"), sep = "\t")
dim(redlist_df)
summary(redlist_df)
dim(amniote_df)
summary(amniote_df)
dim(redlist_df)
names(redlist_df)
summary(redlist_df)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway = "~/GitHub/"
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway = "~/GitHub/"
redlist_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/simple_summary_IUCN_birds_mammals.csv"))
elton_mammal_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/EltonTraits/MamFuncDat.txt"),sep = "\t")
elton_bird_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/EltonTraits/BirdFuncDat.txt"),sep = "\t")
summary(elton_mammal_df)
# Filter mammals and birds from redlist species
redlist_mammals_df = redlist_df[redlist_df$className=="MAMMALIA",]
redlist_birds_df = redlist_df[redlist_df$className=="AVES",]
# Join Elton traits and redlist species for mammals
elton_mammal_df$scientificName = elton_mammal_df$Scientific
mammal_df = left_join(x = redlist_mammals_df, elton_mammal_df,
by="scientificName")
# Join Elton traits and redlist species for birds
elton_bird_df$scientificName = elton_bird_df$Scientific
bird_df = left_join(x = redlist_birds_df, elton_bird_df, by="scientificName")
# Write data
write.csv(mammal_df, "uncleaned_mammal_df.csv")
write.csv(bird_df, "uncleaned_bird_df.csv")
str(redlist_mammals_df)
mammal_df = read.csv("uncleaned_mammal_df.csv")
bird_df = read.csv("uncleaned_bird_df.csv")
summary(mammal_df)
str(elton_mammal_df)
str(redlist_df)
View(redlist_df)
View(elton_mammal_df)
str(elton_mammal_df)
redlist_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/simple_summary_IUCN_birds_mammals.csv"))
elton_mammal_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/EltonTraits/MamFuncDat.txt"),sep = "\t")
elton_bird_df = read.csv(paste0(pathway, "STAT-434---not-the-dodo-/EltonTraits/BirdFuncDat.txt"),sep = "\t")
redlist_df$scientificName = as.character(redlist_df$scientificName)
elton_mammal_df$scientificName = as.character(elton_mammal_df$Scientific)
elton_bird_df$scientificName = as.character(elton_bird_df$Scientific)
# Filter mammals and birds from redlist species
redlist_mammals_df = redlist_df[redlist_df$className=="MAMMALIA",]
redlist_birds_df = redlist_df[redlist_df$className=="AVES",]
# Join Elton traits and redlist species for mammals
mammal_df = left_join(x = redlist_mammals_df, elton_mammal_df,
by="scientificName")
# Join Elton traits and redlist species for birds
bird_df = left_join(x = redlist_birds_df, elton_bird_df, by="scientificName")
# Write data
write.csv(mammal_df, "uncleaned_mammal_df.csv")
write.csv(bird_df, "uncleaned_bird_df.csv")
mammal_df = read.csv("uncleaned_mammal_df.csv")
bird_df = read.csv("uncleaned_bird_df.csv")
dim(mammal_df)
dim(bird_df)
dim(mammal_df)
dim(bird_df)
View(bird_df)
# Filter mammals and birds from redlist species
redlist_mammals_df = redlist_df[redlist_df$className=="MAMMALIA",]
redlist_birds_df = redlist_df[redlist_df$className=="AVES",]
# Join Elton traits and redlist species for mammals
mammal_df = inner_join(x = redlist_mammals_df, elton_mammal_df,
by="scientificName")
# Join Elton traits and redlist species for birds
bird_df = inner_join(x = redlist_birds_df, elton_bird_df, by="scientificName")
# Write data
write.csv(mammal_df, "uncleaned_mammal_df.csv")
write.csv(bird_df, "uncleaned_bird_df.csv")
mammal_df = read.csv("uncleaned_mammal_df.csv")
bird_df = read.csv("uncleaned_bird_df.csv")
dim(mammal_df)
dim(bird_df)
# Filter mammals and birds from redlist species
redlist_mammals_df = redlist_df[redlist_df$className=="MAMMALIA",]
redlist_birds_df = redlist_df[redlist_df$className=="AVES",]
# Join Elton traits and redlist species for mammals
mammal_df = left_join(x = elton_mammal_df, y = redlist_mammals_df,
by="scientificName")
# Join Elton traits and redlist species for birds
bird_df = left_join(x = elton_bird_df, y = redlist_birds_df,
by="scientificName")
# Write data
write.csv(mammal_df, "uncleaned_mammal_df.csv")
write.csv(bird_df, "uncleaned_bird_df.csv")
mammal_df = read.csv("uncleaned_mammal_df.csv")
bird_df = read.csv("uncleaned_bird_df.csv")
dim(mammal_df)
dim(bird_df)
summary(redlist_birds_df)
View(mammal_df)
names(mammal_df)
View(mammal_df)
mammal_df %>%
filter(!complete.cases(X:scopes))
table(is.na(mammal_df$Diet.Vect))
nrow(mammal_df)
nrow(elton_mammal_df)
nrow(redlist_mammals_df)
redlist_mammals_df$scientificName[!redlist_mammals_df$scientificName %in% elton_mammal_df$scientificName] %>%
length()
elton_mammal_df$scientificName[!elton_mammal_df$scientificName %in% redlist_mammals_df$scientificName]
redlist_mammals_df %>%
filter(!(scientificName %in% elton_mammal_df$scientificName))
table(is.na(mammal_df$Diet.Vect))
nrow(mammal_df)
nrow(elton_mammal_df)
nrow(redlist_mammals_df)
redlist_mammals_df$scientificName[!redlist_mammals_df$scientificName %in% elton_mammal_df$scientificName] %>%
length()
redlist_mammals_df %>%
filter(!(scientificName %in% elton_mammal_df$scientificName))
elton_mammal_df$scientificName[!elton_mammal_df$scientificName %in% redlist_mammals_df$scientificName]
redlist_mammals_df$scientificName[!redlist_mammals_df$scientificName %in% elton_mammal_df$scientificName] %>%
length()
redlist_mammals_df %>%
filter(!(scientificName %in% elton_mammal_df$scientificName))
redlist_mammals_df %>%
filter(!(scientificName %in% elton_mammal_df$scientificName)) %>%
length()
redlist_mammals_df %>%
filter(!(scientificName %in% elton_mammal_df$scientificName)) %>%
nrow()
table(is.na(mammal_df$Diet.Vect))
nrow(mammal_df)
nrow(elton_mammal_df)
nrow(redlist_mammals_df)
# Check redlist mammals that do not have Elton traits
redlist_mammals_df %>%
filter(!(scientificName %in% elton_mammal_df$scientificName)) %>%
nrow()
redlist_birds_df %>%
filter(!(scientificName %in% elton_bird_df$scientificName)) %>%
nrow()
mammal_df %>%
filter(is.na(redlistCategory))
mammal_df %>%
filter(is.na(redlistCategory))
bird_df %>%
filter(is.na(redlistCategory))
summary(mammal_df)
mammal_df %>%
filter(is.na(redlistCategory)) %>%
nrow()
bird_df %>%
filter(is.na(redlistCategory)) %>%
nrow()
names(mammal_df)
names(bird_df)
names(mammal_df)
summary(mammal_df)
View(mammal_df)
View(bird_df)
# Removed unnecessary or mostly empty columns
mammal_df = mammal_df %>%
select(-X, -MSW3_ID, -infraType, -infraName, -infraAuthority,
-redlistCriteria, -criteriaVersion)
bird_df = bird_df %>%
select(-X, -infraType, -infraName, -infraAuthority,
-redlistCriteria, -criteriaVersion)
mammal_df %>%
filter(is.na(redlistCategory)) %>%
nrow()
bird_df %>%
filter(is.na(redlistCategory)) %>%
nrow()
# Create prediction/test datasets
mammal_pred_df = mammal_df %>%
filter(is.na(redlistCategory))
bird_pred_df = bird_df %>%
filter(is.na(redlistCategory))
# Filter out rows with missing redlist category to make training dataset
mammal_df = mammal_df %>%
filter(!is.na(redlistCategory))
bird_df = bird_df %>%
filter(!is.na(redlistCategory))
summary(mammal_df)
View(mammal_df)
summary(mammal_pred_df)
write.csv(mammal_df, "cleaned_mammal_df.csv")
write.csv(bird_df, "cleaned_bird_df.csv")
write.csv(mammal_pred_df, "mammal_pred_df.csv")
write.csv(bird_pred_df, "bird_pred_df.csv")
knitr::opts_chunk$set(echo = TRUE)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway = "~/GitHub/STAT-434---not-the-dodo-/"
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
## Local Pathways - copy/paste your local pathway to the github repository
# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"
# Ryan
#pathway = "~/GitHub/STAT-434---not-the-dodo-/"
mammal_df = read.csv("cleaned_mammal_df.csv")
bird_df = read.csv("cleaned_bird_df.csv")
summary(mammal_df)
pairs(mammal_df)
names(mammal_df)
pairs(mammal_df$Diet.Inv:mammal_df$BodyMass.Value)
mammal_df %>%
select(mammal_df$Diet.Inv:mammal_df$BodyMass.Value) %>%
pairs()
mammal_df %>%
select(mammal_df$Diet.Inv:mammal_df$BodyMass.Value)# %>%
mammal_df %>%
select(Diet.Inv:BodyMass.Value)# %>%
#pairs()
mammal_df %>%
select(Diet.Inv:BodyMass.Value) %>%
pairs()
names(mammal_df)
mammal_df %>%
select(Diet.Inv:Diet.PlantO, ForStrat.Value) %>%
pairs()
mammal_df %>%
select(Diet.Inv:Diet.Vfish, ForStrat.Value) %>%
pairs()
mammal_df %>%
select(Diet.Inv:Diet.Vect, ForStrat.Value) %>%
pairs()
mammal_df %>%
select(Diet.Inv:Diet.Vect, ForStrat.Value, A
Activity.Nocturnal:Activity.Diurnal) %>%
mammal_df %>%
select(Diet.Inv:Diet.Vect, ForStrat.Value,
Activity.Nocturnal:Activity.Diurnal) %>%
pairs()
mammal_df %>%
select(Diet.Inv:Diet.Vect, Activity.Nocturnal:Activity.Diurnal) %>%
pairs()
mammal_df %>%
select(Diet.Inv:Diet.Vect, BodyMass.Value) %>%
pairs()
