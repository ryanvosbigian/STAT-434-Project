---
title: "STAT 434 Project Modeling"
author: "Emma Barton and Ryan Vosbigian"
date: "5/21/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Types of models to use:

Classification models only (could conver classes to numeric 1 thru 4, but makes our prediction undesirable, plus not equal jumps between classes)

  1. Logistic Regression (pairwise/one-versus-one and one-versus-all)
  2. Linear Discriminant Analysis
  3. Quadratic Discriminant Analysis
  4. K-Nearest Neighbor
  5. Classification Tree
  6. Bagged Trees
  7. Random Forests
  8. Boosted Forests
  9. Neural Networks
  10. Support Vector Machines
  
Additional Considerations for Modeling

  1. PCA of all diet and foraging variables
    a. All diet variables are highly correlated, because they each sum up to 100. Thus, using PCA could really simplify the models considerably
    b. Additionally, if PCA is performed on diet variables then the diet variables should not be scaled because they already are by nature of the data
  2. 
  
# Set Up

```{r load packages}
library(tidyverse)

```

```{r set pathway}

## Local Pathways - copy/paste your local pathway to the github repository

# Emma
pathway = "/Users/emmabarton/Desktop/spring_2020/STAT434/project/"

# Ryan
#pathway = "~/GitHub/STAT-434---not-the-dodo-/"


```

Loading data and combining exctinct species and critically endangered species. 

```{r load data}

mammal_df = read.csv("cleaned_mammal_df.csv")
bird_df = read.csv("cleaned_bird_df_updated_5_29.csv")

#combine "Extinct" & "Extinct in the Wild" into "Critically Endangered"
mammal_df$redlistCategory = car::recode(mammal_df$redlistCategory,recodes = "'Extinct'='Critically Endangered';'Extinct in the Wild'='Critically Endangered'")

bird_df$redlistCategory = car::recode(bird_df$redlistCategory,recodes = "'Extinct'='Critically Endangered';'Extinct in the Wild'='Critically Endangered'")



```

# Preparing Data

```{r}
#moving data deficient mammals to different data set
data_deficient_mammals_df = mammal_df[mammal_df$redlistCategory == "Data Deficient",]
#removing data deficient mammals
mammal_df = mammal_df[mammal_df$redlistCategory != "Data Deficient",]

#moving data def birds to different dataset
data_deficient_birds_df = bird_df[bird_df$redlistCategory == "Data Deficient",]
#removing data deficient birds
bird_df = bird_df[bird_df$redlistCategory != "Data Deficient",]

#creating indices for training sets

set.seed(10)

train_mammal = sample(1:nrow(mammal_df),size = round(nrow(mammal_df)/2))
train_bird = sample(1:nrow(bird_df),size = round(nrow(bird_df)/2))

# creating training and test sets

mammal.train.df = mammal_df[train_mammal,]
mammal.test.df = mammal_df[-train_mammal,]

bird.train.df = bird_df[train_bird,]
bird.test.df = bird_df[-train_bird,]

```


# 1: Logistic Regression
  
# 2: Linear Discriminant Analysis



